{"version":3,"sources":["Comfort/Actions.ts","Models/Polar.ts","Models/Point.ts","Models/IDomMeasurement.ts","Models/Size.ts","ComfortZone/Model.ts","Comfort/Model.ts","ComfortZone/Component.tsx","ComfortZone/Connector.ts","User/Component.tsx","User/Connector.ts","ComfortUserChoice/Component.tsx","ComfortUserChoice/Connector.ts","Stage/Component.tsx","Stage/Connector.ts","Comfort/ComponentApp.tsx","Comfort/Reducer.ts","__tests__/ComfortTests.tsx","Animation/Component.tsx","Tuckman/Model.ts","TuckmanZone/Component.tsx","Tuckman/Actions.ts","TuckmanZone/Connector.ts","TuckmanUserChoice/Component.tsx","TuckmanUserChoice/Connector.ts","Tuckman/Component.tsx","Tuckman/Reducer.ts","Tuckman/Connector.ts","__tests__/TuckmanTests.tsx","Shared/WindowHelper.ts","Comfort/Store.tsx","Shared/SVGEvents.ts","Shared/Events.ts","startup.ts","../Shared/Cache.ts","../Shared/User.ts","../Shared/UserConstructor.ts","../Shared/Users.ts","../Shared/BrowserRepo.ts","../Shared/BrowserUsers.ts","../Shared/InMemoryBrowserUsers.ts","Tuckman/Store.tsx"],"names":[],"mappings":"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","file":"compiled.js","sourcesContent":["import { IUserList } from \"../User/Model\";\n\nexport const ComfortActions = {\n    SET_STAGESIZE : \"SET_STAGESIZE\",\n    SET_ZONEFOCUS : \"SET_ZONEFOCUS\",\n    SET_USERFOCUS : \"SET_USERFOCUS\",\n    SET_USERLIST  : \"SET_USERLIST\",\n    SELECT_USER   : \"SELECT_USER\",\n    CHOOSE_ZONE   : \"CHOOSE_ZONE\",\n    TOGGLE_CHOICES: \"TOGGLE_CHOICES\"\n};\n\nexport function setStageSize(width: number, height: number) {\n    return {type: ComfortActions.SET_STAGESIZE, width: width, height: height};\n}\nexport function setUserFocus(user: string, focus: \"in-focus\" | \"active\" | \"not-in-focus\") {\n    return {type: ComfortActions.SET_USERFOCUS, user: user, focus: focus};\n}\nexport function setZoneFocus(area: \"Chaos\" | \"Stretch\" | \"Comfort\", focus: \"in-focus\" | \"active\" | \"not-in-focus\") {\n    return {type: ComfortActions.SET_ZONEFOCUS, area: area, focus: focus};\n}\nexport function selectUser(user: string) {\n    return {type: ComfortActions.SELECT_USER, user: user};\n}\nexport function setUserList(userList: IUserList) {\n    return {type: ComfortActions.SET_USERLIST, userList: userList};\n}\nexport function chooseZone(user: string, area: \"Chaos\" | \"Stretch\" | \"Comfort\", distance: number) {\n    return {type: ComfortActions.CHOOSE_ZONE, user: user, area: area, distance: distance};\n}\nexport function toggleChoiceVisibility(visible: boolean) {\n    return {type: ComfortActions.TOGGLE_CHOICES, visible: visible};\n}\n","\n\nexport class Polar {\n    radius: number;\n    angle : number;\n    constructor(radius: number, angle: number) {\n        this.radius = radius;\n        this.angle  = angle;\n    }\n}\n","import {Polar} from \"./Polar\";\n\nexport class Point {\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n    static fromCoords(coords: Array<number>) {\n        return new Point(coords[0], coords[1]);\n    }\n    public static fromOffset(point: Point, origin: Point): Point {\n        const dx = point.x - origin.x;\n        const dy = point.y - origin.y;\n        return new Point(dx, dy);\n    }\n    public static toOffset(point: Point, origin: Point): Point {\n        const dx = point.x + origin.x;\n        const dy = point.y + origin.y;\n        return new Point(dx, dy);\n    }\n    public static distance(point: Point, origin: Point): number {\n        const offset = Point.fromOffset(point, origin);\n        return Point.distanceFromOffset(offset);\n    }\n    public static distanceAsPercentage(thisDistance: number, maxDistance: number): number {\n        return (thisDistance / maxDistance) * 100;\n    }\n    public static distanceFromOffset(offset: Point): number {\n        return Math.sqrt(offset.x * offset.x + offset.y * offset.y);\n    }\n    public static toCartesianNoOffset(polar: Polar): Point {\n        const x = polar.radius * Math.cos(polar.angle);\n        const y = polar.radius * Math.sin(polar.angle);\n        return new Point(x, y);\n    }\n    public static toCartesian(polar: Polar, origin: Point): Point {\n        const point = Point.toCartesianNoOffset(polar);\n        return Point.toOffset(point, origin);\n    }\n    public static toPolar(point: Point, origin: Point): Polar {\n        const offset = Point.fromOffset(point, origin);\n        const radius = Point.distanceFromOffset(offset);\n        const angle  = Math.atan2(offset.y, offset.x);\n        return new Polar(radius, angle);\n    }\n}\n","export interface IDOMMeasurement {\n    Unit: \"px\" | \"%\";\n    Value: number;\n}\n\nexport class DOMMeasurement implements IDOMMeasurement {\n    constructor(input: string) {\n\n        if (input.indexOf(\"%\") !== -1) {\n            this.Value = parseInt(input.substr(0, input.indexOf(\"%\")), 10);\n            this.Unit  = \"%\";\n        } else if (input.indexOf(\"%\") !== -1) {\n            this.Value = parseInt(input.substr(0, input.indexOf(\"px\")), 10);\n            this.Unit  = \"px\";\n        } else {\n            this.Value = parseInt(input, 10);\n            this.Unit  = \"px\";\n        }\n    }\n    Unit: \"px\" | \"%\";\n    Value: number;\n    toString(): string {\n        return \"\" + this.Value + this.Unit;\n    };\n}\n","\n\nimport { IDOMMeasurement } from \"./IDomMeasurement\";\n\nexport class Size {\n    width : number;\n    height: number;\n    constructor(width: number, height: number) {\n        this.width  = width;\n        this.height = height;\n    }\n    shortest(): number {\n        if (this.width < this.height) {\n            return this.width;\n        } else {\n            return this.height;\n        }\n    }\n    longest(): number {\n        if (this.width > this.height) {\n            return this.width;\n        } else {\n            return this.height;\n        }\n    }\n}\n\nexport interface ISizable {\n    Width : IDOMMeasurement;\n    Height: IDOMMeasurement;\n}\n","\nimport { Point } from \"../Models/Point\";\nimport { ISizable } from \"../Models/Size\";\nimport { IUser } from \"../User/Model\";\n\nexport class ComfortZoneRangeState {\n    Start: number;\n    End: number;\n}\nexport interface IComfortZoneConnector {\n    Zone       : ComfortZoneState;\n    User       : IUser;\n    CenterPoint: Point;\n    TotalDistance: number;\n}\n\nexport interface IComfortZoneEvents {\n  onZoneMouseDown: (zone: \"Comfort\" | \"Chaos\" | \"Stretch\") => void;\n  onZoneMouseUp  : (username: string, zone: \"Comfort\" | \"Chaos\" | \"Stretch\", centerPoint: Point, maxDistance: number, event: any) => void;\n  onZoneOverFocus: (zone: \"Comfort\" | \"Chaos\" | \"Stretch\") => void;\n  onZoneOffFocus : (zone: \"Comfort\" | \"Chaos\" | \"Stretch\") => void;\n}\n\nexport interface IComfortZoneEventList {\n    Events: IComfortZoneEvents;\n}\nexport interface IComfortZoneConnectorWithEvents extends IComfortZoneConnector {\n    Events       : IComfortZoneEvents;\n}\nexport class ComfortZoneState {\n    Name  : \"Chaos\" | \"Stretch\" | \"Comfort\";\n    Focus?: \"in-focus\" | \"active\" | \"not-in-focus\";\n    Range?: ComfortZoneRangeState;\n    Size? : ISizable;\n}\n","import { Point } from \"../Models/Point\";\nimport { Size } from \"../Models/Size\";\nimport { ComfortZoneState } from \"../ComfortZone/Model\";\nimport { IUserList, IUser } from \"../User/Model\";\n\nexport class ComfortUserChoiceState {\n    User    : IUser;\n    Zone    : \"Chaos\" | \"Stretch\" | \"Comfort\";\n    Distance: number;\n}\n\nexport class ComfortZoneList {\n    Comfort: ComfortZoneState;\n    Stretch: ComfortZoneState;\n    Chaos  : ComfortZoneState;\n}\n\nexport class ComfortAppState {\n    Size           : Size;\n    CenterPoint    : Point;\n    UserList       : IUserList;\n    Zones          : ComfortZoneList;\n    ShowUserChoices: boolean;\n    CurrentUser?   : IUser;\n    UserChoices    : Array<ComfortUserChoiceState>;\n}\nexport class ComfortAppStateWithChildren extends ComfortAppState {\n    children: any;\n}\n","import * as React from \"react\";\nimport { IComfortZoneConnectorWithEvents } from \"./Model\";\n\nexport const ReduxChaosArea = (state: IComfortZoneConnectorWithEvents) => { // , onZoneUnfocus, onZoneClick, onZoneActive) => (\n    const username = state.User && state.User.Username ? state.User.Username : \"Adam Hall\";\n    return <g>\n        <rect id=\"chaos\" className={state.Zone.Focus}\n            onMouseEnter={() => state.Events.onZoneOverFocus(state.Zone.Name)}\n            onMouseLeave={() => state.Events.onZoneOffFocus(state.Zone.Name)}\n            onMouseDown={() => state.Events.onZoneMouseDown(state.Zone.Name)}\n            onMouseUp={(event) => state.Events.onZoneMouseUp(username, state.Zone.Name, state.CenterPoint, state.TotalDistance, event)}\n            width={state.Zone.Size.Width.toString()} height={state.Zone.Size.Height.toString()}></rect>\n        <text className=\"area-label\" id=\"label-chaos\" text-anchor=\"middle\" textAnchor=\"middle\" x=\"50%\" y=\"20\">chaos</text>\n    </g>;\n};\n\nexport const ReduxStretchArea = (state: IComfortZoneConnectorWithEvents) => {\n    const username = state.User && state.User.Username ? state.User.Username : \"Adam Hall\";\n    return <g>\n            <circle\n                className={state.Zone.Focus} id=\"stretch\" r=\"33%\" cx=\"50%\" cy=\"50%\"\n                    onMouseEnter={() => state.Events.onZoneOverFocus(state.Zone.Name)}\n                    onMouseLeave={() => state.Events.onZoneOffFocus(state.Zone.Name)}\n                    onMouseDown={() => state.Events.onZoneMouseDown(state.Zone.Name)}\n                    onMouseUp={(event) => state.Events.onZoneMouseUp(username, state.Zone.Name, state.CenterPoint, state.TotalDistance, event)}\n                    width={state.Zone.Size.Width.toString()} height={state.Zone.Size.Height.toString()}></circle>\n            <text className=\"area-label\" id=\"label-stretch\" text-anchor=\"middle\" textAnchor=\"middle\" x=\"50%\" y=\"20%\">stretch</text>\n        </g>;\n};\n\nexport const ReduxComfortArea = (state: IComfortZoneConnectorWithEvents) => {\n    const username = state.User && state.User.Username ? state.User.Username : \"Adam Hall\";\n    return <g>\n            <circle\n                className={state.Zone.Focus} id=\"stretch\" r=\"15%\" cx=\"50%\" cy=\"50%\"\n                    onMouseEnter={() => state.Events.onZoneOverFocus(state.Zone.Name)}\n                    onMouseLeave={() => state.Events.onZoneOffFocus(state.Zone.Name)}\n                    onMouseDown={() => state.Events.onZoneMouseDown(state.Zone.Name)}\n                    onMouseUp={(event) => state.Events.onZoneMouseUp(username, state.Zone.Name, state.CenterPoint, state.TotalDistance, event)}\n                    width={state.Zone.Size.Width.toString()} height={state.Zone.Size.Height.toString()}></circle>\n            <text className=\"area-label\" id=\"label-stretch\" text-anchor=\"middle\" textAnchor=\"middle\" x=\"50%\" y=\"50%\">comfort</text>\n        </g>;\n};\n","import { connect } from \"react-redux\";\nimport { setZoneFocus, chooseZone } from \"../Comfort/Actions\";\nimport {ComfortAppState} from \"../Comfort/Model\";\nimport {ReduxChaosArea, ReduxStretchArea, ReduxComfortArea} from \"./Component\";\nimport { Point } from \"../Models/Point\";\nimport { ComfortZoneState, IComfortZoneConnector, IComfortZoneEventList } from \"./Model\";\n\nconst mapStateToProps = (state: ComfortAppState, ownProps: ComfortZoneState) : IComfortZoneConnector => {\n\n    const maxDistance = state.Size.shortest();\n    if (ownProps.Name === \"Comfort\") {\n      return {Zone: state.Zones.Comfort, User: state.CurrentUser, CenterPoint: state.CenterPoint, TotalDistance: maxDistance};\n    } else if (ownProps.Name === \"Chaos\") {\n      return {Zone: state.Zones.Chaos,   User: state.CurrentUser, CenterPoint: state.CenterPoint, TotalDistance: maxDistance};\n    } else {\n      return {Zone: state.Zones.Stretch, User: state.CurrentUser, CenterPoint: state.CenterPoint, TotalDistance: maxDistance};\n    }\n};\n\nconst getCenterPointFromElement = (el) => {\n  const boundingBox = el.getBBox();\n  const centerX     = (boundingBox.width - boundingBox.x) / 2;\n  const centerY     = (boundingBox.height - boundingBox.y) / 2;\n  return new Point(centerX, centerY);\n};\n\n\nconst mapDispatchToProps = (dispatch) : IComfortZoneEventList => {\n  return {\n    Events: {\n      onZoneMouseDown: (zone: \"Comfort\" | \"Chaos\" | \"Stretch\"): void => {\n        dispatch(setZoneFocus(zone, \"active\"));\n      },\n      onZoneMouseUp: (user: string, zone: \"Comfort\" | \"Chaos\" | \"Stretch\", centerPoint: Point, maxDistance: number, event: any): void => {\n        dispatch(setZoneFocus(zone, \"not-in-focus\"));\n        const coord = [event.clientX, event.clientY];\n        // const centerPoint = getCenterPointFromElement(event.currentTarget);\n        const distance = Point.distance(centerPoint, Point.fromCoords(coord));\n        const distanceAsPercentage = Point.distanceAsPercentage(distance, maxDistance);\n\n        dispatch(chooseZone(user, zone, distanceAsPercentage)); // user: string, area: \"Chaos\" | \"Stretch\" | \"Comfort\", distance: number\n      },\n      onZoneOverFocus: (zone: \"Comfort\" | \"Chaos\" | \"Stretch\"): void => {\n        dispatch(setZoneFocus(zone, \"in-focus\"));\n      },\n      onZoneOffFocus: (zone: \"Comfort\" | \"Chaos\" | \"Stretch\"): void => {\n        dispatch(setZoneFocus(zone, \"not-in-focus\"));\n      }\n    }\n  };\n};\n\nexport const ReduxChaosConnector = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReduxChaosArea);\n\nexport const ReduxStretchConnector = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReduxStretchArea);\n\nexport const ReduxComfortConnector = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReduxComfortArea);\n\n\n\n","import * as React from \"react\";\nimport { IUserListWithEvents, IUserUIWithEvents } from \"./Model\";\n\nexport const ReduxUserList = (state: IUserListWithEvents) => { // , onZoneUnfocus, onZoneClick, onZoneActive) => (\n    const className = state.ShowUsers ? \"appear\" : \"disappear\";\n\n    return <g id=\"users\" className={className}>\n        {state.Users.map((user: IUserUIWithEvents, i) =>\n            <ReduxUser key={user.Username} {...user} events={state.events} />\n        )}\n    </g >;\n};\n\nexport const ReduxUser = (state: IUserUIWithEvents) => {\n    // 60 , 150, 240\n    const textY = state.Y + 60;\n\n    return <g className=\"user-group\">\n        <rect\n            className={state.Focus}\n            onMouseEnter={() => state.events.onUserOverFocus(state.Username)}\n            onMouseLeave={() => state.events.onUserOffFocus(state.Username)}\n            onMouseDown={() => state.events.onUserMouseDown(state.Username)}\n            onMouseUp={(event) => state.events.onUserMouseUp(state.Username, event)}\n         y={state.Y} x=\"0\" width=\"800\" height=\"90\"></rect>\n        <text className=\"username\" y={textY} x=\"60\">{state.Username}</text>\n    </g>;\n};\n","import { connect } from \"react-redux\";\nimport { selectUser, setUserFocus } from \"../Comfort/Actions\";\nimport {ComfortAppState} from \"../Comfort/Model\";\nimport {ReduxUserList} from \"./Component\";\nimport { IUserList } from \"./Model\";\nimport { fromJS } from \"../3rdParty/immutable.min\";\n\n\nconst mapStateToProps = (state: ComfortAppState, ownProps: IUserList): IUserList => {\n    return {\n      ShowUsers: state.UserList.ShowUsers,\n      Users    : state.UserList.Users.map((u, i) => {\n        return fromJS(u).set(\"Y\", (i * 90) + 60).toJS();\n      })\n    };\n};\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    events: {\n      onUserMouseDown: (user: string) => {\n        dispatch(setUserFocus(user, \"active\"));\n      },\n      onUserMouseUp: (user: string, event: any) => {\n        dispatch(setUserFocus(user, \"not-in-focus\"));\n        dispatch(selectUser(user));\n      },\n      onUserOverFocus: (user: string) => {\n        dispatch(setUserFocus(user, \"in-focus\"));\n      },\n      onUserOffFocus: (user: string) => {\n        dispatch(setUserFocus(user, \"not-in-focus\"));\n      }\n    }\n  };\n};\n\nexport const ReduxUserConnector = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReduxUserList);\n\n// UserListConnector","import * as React from \"react\";\nimport {ComfortUserChoiceState} from \"../Comfort/Model\";\nimport {Point} from \"../Models/Point\";\nimport {Polar} from \"../Models/Polar\";\nimport { IComfortUserChoice, IUserChoiceState } from \"./Model\";\n\nexport const ReduxUserHistoryArea = (state: IUserChoiceState) => {\n    if (state && state.Choices.length) {\n        const totalPoints   = state.Choices.length;\n        const radian        = 6.2831853072;          // 360 * Math.PI / 180;\n        const polarDivision = radian / totalPoints;\n        const maxDistance   = state.MaxDistance;\n        return <g id=\"history\">\n            {state.Choices.map((userChoice: ComfortUserChoiceState, i) =>\n                <ReduxUserHistory CenterPoint={state.CenterPoint} key={userChoice.User.Username} {...userChoice} Index={i} PolarDivision={polarDivision} MaxDistance={maxDistance}  />\n            )}\n        </g>;\n\n    } else {\n        return <g id=\"history\"></g>;\n    }\n};\n\nexport const ReduxUserHistory = (state: IComfortUserChoice) => {\n    const angle            = state.PolarDivision * state.Index;\n    const distanceAsPixels = ((state.Distance / 100) * state.MaxDistance);\n    const point            = Point.toCartesian(new Polar(distanceAsPixels, angle), state.CenterPoint);\n\n    return <circle cx={point.x} cy={point.y} r=\"10\" className=\"point\"></circle>;\n};\n","import { connect } from \"react-redux\";\nimport { ReduxUserHistoryArea} from \"./Component\";\nimport { ComfortAppState } from \"../Comfort/Model\";\nimport { IUserChoiceState } from \"./Model\";\n\nconst mapStateToProps = (state: ComfortAppState): IUserChoiceState => {\n    return {\n      Choices    : state.UserChoices,\n      CenterPoint: state.CenterPoint,\n      MaxDistance: state.Size.shortest()\n    };\n};\n\nexport const ReduxUserHistoryConnector = connect(\n  mapStateToProps\n)(ReduxUserHistoryArea);\n\n// UserListConnector\n","import * as React from \"react\";\nimport {  IStageState } from \"./Model\";\n\nexport const Stage = (state: any) => {\n    return <svg id=\"stage\" width={state.Size.width} height={state.Size.height}>\n        {state.InnerBits}\n    </svg>;\n};\n","import { connect } from \"react-redux\";\nimport { Stage } from \"./Component\";\nimport { IStageState, IStageProps } from \"./Model\";\n\nexport const StageConnector = connect(\n  (state: IStageState, props: IStageProps) => {\n    return { Size: state.Size, InnerBits: props.children};\n  }\n)(Stage);\n","import * as React from \"react\";\nimport {ReduxChaosConnector, ReduxStretchConnector, ReduxComfortConnector} from \"../ComfortZone/Connector\";\nimport {ReduxUserConnector} from \"../User/Connector\";\nimport {ReduxUserHistoryConnector} from \"../ComfortUserChoice/Connector\";\nimport { StageConnector } from \"../Stage/Connector\";\n\nexport const ComfortApp = () => (\n    <g>\n        <ReduxChaosConnector   Name=\"Chaos\" />\n        <ReduxStretchConnector Name=\"Stretch\" />\n        <ReduxComfortConnector Name=\"Comfort\" />\n        <ReduxUserConnector />\n        <ReduxUserHistoryConnector />\n    </g>\n);\n","\nimport {ComfortActions} from \"./Actions\";\nimport {ComfortAppState} from \"./Model\";\nimport { fromJS, List, Map } from \"../3rdParty/immutable.min\";\nimport { Point } from \"../Models/Point\";\nimport { Size } from \"../Models/Size\";\nimport { DOMMeasurement } from \"../Models/IDomMeasurement\";\nimport { IUser, IUserList } from \"../User/Model\";\n\n\nconst initialSize: Size = new Size(800, 800);\nconst initialState: ComfortAppState = {\n    Size       : initialSize,\n    CenterPoint: new Point(initialSize.width / 2, initialSize.height / 2),\n    UserList   : {\n    ShowUsers  : true,\n    Users      : [\n            {Username: \"Adam Hall\", Focus: \"not-in-focus\", Y: 0 },\n            {Username: \"Caroline Hall\", Focus: \"not-in-focus\", Y: 0 }\n        ]\n    },\n    Zones      : {\n        Comfort: {Name: \"Comfort\", Focus: \"not-in-focus\", Range: {Start: 0, End: 33}, Size: {Width: new DOMMeasurement(\"50%\"), Height: new DOMMeasurement(\"50%\")}},\n        Stretch: {Name: \"Stretch\", Focus: \"not-in-focus\", Range: {Start: 34, End: 66}, Size: {Width: new DOMMeasurement(\"50%\"), Height: new DOMMeasurement(\"50%\")}},\n        Chaos  : {Name: \"Chaos\", Focus: \"not-in-focus\", Range: {Start: 67, End: 100}, Size: {Width: new DOMMeasurement(\"100%\"), Height: new DOMMeasurement(\"100%\")}}\n    },\n    ShowUserChoices: false,\n    UserChoices    : []\n};\nexport function comfortReactApp(state: ComfortAppState = initialState, action): ComfortAppState {\n    switch (action.type) {\n        case ComfortActions.SET_STAGESIZE:\n            return ComfortZoneAction.setStageSize(state, (<any>action).width, (<any>action).height);\n        case ComfortActions.SET_USERFOCUS:\n            return ComfortZoneAction.setUserFocus(state, (<any>action).user, (<any>action).focus);\n        case ComfortActions.SET_ZONEFOCUS:\n            return ComfortZoneAction.setZoneFocus(state, (<any>action).area, (<any>action).focus);\n        case ComfortActions.SELECT_USER:\n            return ComfortZoneAction.selectUser(state, (<any>action).user);\n        case ComfortActions.CHOOSE_ZONE:\n            return ComfortZoneAction.chooseZone(state, (<any>action).user, (<any>action).area, (<any>action).distance);\n        case ComfortActions.TOGGLE_CHOICES:\n            return ComfortZoneAction.toggleChoiceVisibility(state, (<any>action).visible);\n        default:\n            return state;\n    }\n}\nclass ComfortZoneAction {\n    static setStageSize(state: ComfortAppState, width: number, height: number) {\n        const newCenter = new Point(width / 2, height / 2);\n        return fromJS(state)\n            .set(\"Size\", new Size(width, height))\n            .set(\"CenterPoint\", newCenter)\n            .toJS();\n    }\n    static setZoneFocus(state: ComfortAppState, area: \"Chaos\" | \"Stretch\" | \"Comfort\", focus: \"in-focus\" | \"active\" | \"not-in-focus\"): ComfortAppState {\n        return fromJS(state)\n            .setIn([\"Zones\", \"Comfort\", \"Focus\"], area === \"Comfort\" ? focus : \"not-in-focus\")\n            .setIn([\"Zones\", \"Stretch\", \"Focus\"], area === \"Stretch\"  ? focus : \"not-in-focus\")\n            .setIn([\"Zones\", \"Chaos\", \"Focus\"], area === \"Chaos\"  ? focus : \"not-in-focus\").toJS();\n    }\n\n    \n\n    static setUserFocus(state: ComfortAppState, user: string, focus: \"in-focus\" | \"active\" | \"not-in-focus\"): ComfortAppState {\n        const originalList = List(state.UserList.Users);\n        const newUserList = originalList.update(\n            originalList.findIndex(item => item.Username === user),\n            (item) => fromJS(item).set(\"Focus\", focus)).toJS();\n        return fromJS(state)\n            .setIn([\"UserList\", \"Users\"], newUserList).toJS();\n    }\n    static selectUser(state: ComfortAppState, user: String): ComfortAppState {\n        const originalList = List(state.UserList.Users);\n        const item: IUser = originalList.find(item => item.Username === user);\n        // Sets currentUser, and therefor hides the user choice menu\n        const data = fromJS(state)\n            .set(\"CurrentUser\", item)\n            .set(\"ShowUserChoices\", false)\n            .setIn([\"UserList\", \"ShowUsers\"], false);\n\n        return data.toJS();\n    }\n\n    static setUsers(state: ComfortAppState, userList: IUserList): ComfortAppState {\n        return fromJS(state)\n            .setIn(\"UserList\", userList).toJS();\n    }\n\n    static chooseZone(\n        state: ComfortAppState, user: string, area: \"Chaos\" | \"Stretch\" | \"Comfort\",\n        distance: number): ComfortAppState {\n\n        // Add the user choice\n        const newUserChoices = List(state.UserChoices).push({\n            User: {Username: user},\n            Zone: area,\n            Distance: distance\n        }).toJS();\n        // Remove the user from the choice list\n        const newUserList = List(state.UserList.Users).filter((item) => item.Username !== user).toArray();\n        // Show the user list\n        const showUserChoice = !!(newUserList.length);\n        // Return\n        return fromJS(state)\n            .delete(\"CurrentUser\")\n            .set(\"ShowUserChoices\", showUserChoice)\n            .set(\"UserChoices\", newUserChoices)\n            .setIn([\"UserList\", \"Users\"], newUserList)\n            .setIn([\"UserList\", \"ShowUsers\"], showUserChoice).toJS();\n    }\n    static toggleChoiceVisibility(state: ComfortAppState, visible: boolean): ComfortAppState {\n        // Set \"showUserChoices\" to true\n        return Map(state)\n            .set(\"ShowUserChoices\", visible).toJS();\n    };\n}\n","import * as React from \"react\";\nimport {createStore} from \"../../3rdParty/redux.min\";\nimport { ComfortApp } from \"../Comfort/ComponentApp\";\nimport {comfortReactApp} from \"../Comfort/Reducer\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"../../3rdParty/react-redux.min\";\nimport * as Action from \"../Comfort/Actions\";\nimport { StageConnector } from \"../Stage/Connector\";\n\nconst renderizer = require(\"react-test-renderer\");\n\ntest(\"Should not mutate in any way\", () => {\n    debugger;\n    const myState = comfortReactApp(undefined, {type: \"Startup\"});\n    const initialState = JSON.stringify(myState);\n    const checkAfterAction = (action) => {\n        const currentState = comfortReactApp(myState, action);\n        expect(initialState).toEqual(JSON.stringify(myState));\n    };\n    checkAfterAction(Action.setUserFocus(\"Adam Hall\", \"in-focus\"));\n    checkAfterAction(Action.selectUser(\"Adam Hall\"));\n    checkAfterAction(Action.setStageSize(800, 600));\n    checkAfterAction(Action.setZoneFocus(\"Chaos\", \"in-focus\"));\n    checkAfterAction(Action.setZoneFocus(\"Stretch\", \"active\"));\n    checkAfterAction(Action.setZoneFocus(\"Comfort\", \"in-focus\"));\n    checkAfterAction(Action.toggleChoiceVisibility(true));\n    checkAfterAction(Action.toggleChoiceVisibility(false));\n    checkAfterAction(Action.chooseZone(\"Adam Hall\", \"Stretch\", 85));\n});\n\n\n\ntest(\"Should show the component\", () => {\n    // Arrange\n    const myStore = createStore(comfortReactApp);\n\n    const component = renderizer.create(\n        <Provider store={myStore}>\n            <StageConnector>\n                <ComfortApp />\n            </StageConnector>\n        </Provider>\n    );\n\n    expect(component.toJSON()).toMatchSnapshot();\n    myStore.dispatch(Action.setUserFocus(\"Adam Hall\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n\n});\n\ntest(\"Should allow shrinking\", () => {\n    // Arrange\n\n    const myStore = createStore(comfortReactApp);\n\n    const component = renderizer.create(\n        <Provider store={myStore}>\n            <StageConnector>\n                <ComfortApp />\n            </StageConnector>\n        </Provider>\n    );\n\n    myStore.dispatch(Action.chooseZone(\"Adam Hall\", \"Stretch\", 50));\n    expect(component.toJSON()).toMatchSnapshot();\n\n    myStore.dispatch(Action.chooseZone(\"Caroline Hall\", \"Chaos\", 100));\n    expect(component.toJSON()).toMatchSnapshot();\n\n});\n\n\n\n","import * as React from \"react\";\n\nexport class BouncyAnimation extends React.Component<any, any> {\n     render() {\n         const delay       = this.props.delay || \"0s\";\n         const duration    = this.props.duration || \"0.8s\";\n         const toValue     = parseInt(this.props.value || (20), 10);\n         const toValueType = this.props.valueType || \"%\";\n         const values      = [\n            0 + toValueType,\n            (toValue + toValue / 4) + toValueType,\n            (toValue - toValue / 10) + toValueType,\n            (toValue + toValue / 20) + toValueType,\n            (toValue) + toValueType,\n         ];\n         const valuesToString = values.join(\";\");\n         return <animate attributeType=\"XML\" attributeName={this.props.attributeName} from=\"0%\" to=\"20%\"\n                    dur={duration}\n                    begin={delay}\n                    values={valuesToString}\n                    keyTimes=\"0; 0.3; 0.6; 0.8; 1\"\n                    fill=\"freeze\"\n                    />;\n     }\n}\n","import { IDOMMeasurement } from \"../Models/IDomMeasurement\";\nimport { IStageState } from \"../Stage/Model\";\nimport { IUserList, IUser } from \"../User/Model\";\nimport { ITuckmanZone } from \"../TuckmanZone/Model\";\n\nexport interface ITuckmanModel extends IStageState {\n    zones?       : ITuckmanZoneList;\n    CurrentUser? : IUser;\n    UserList?    : IUserList;\n    UserChoices? : Array<ITuckmanUserChoiceState>;\n};\nexport interface ITuckmanZoneList {\n    forming   : ITuckmanZone;\n    storming  : ITuckmanZone;\n    norming   : ITuckmanZone;\n    performing: ITuckmanZone;\n}\nexport interface ITuckmanUserChoiceState {\n    User    : IUser;\n    zone    : \"forming\" | \"storming\" | \"norming\" | \"performing\";\n    Distance: number;\n}\n","import * as React from \"react\";\n\nimport { ITuckmanZone, ITuckmanZoneEvents } from \"./Model\";\nimport { BouncyAnimation } from \"../Animation/Component\";\n\nexport const TuckmanZone = (state: ITuckmanZone) => { // , onZoneUnfocus, onZoneClick, onZoneActive) => (\n    const index  = state.index || 0;\n    const textID = state.label + \"-label\";\n\n    const offset    : string = (25 * state.index) + \"%\";\n    const textOffset: string = 12 + (25 * state.index) + \"%\";\n    const delay     : string = (0.2 * state.index) + \"s\";\n    const className : string = state.focus + \" area okay js-area-standard\";\n\n    /*return <g>\n        <rect className={className} id={state.label}\n            onMouseUp={state.events.onMouseUp}\n            onMouseDown={state.events.onMouseDown}\n            onMouseEnter={state.events.onMouseEnter}\n            onMouseLeave={state.events.onMouseLeave}\n            x=\"0\" y=\"0\" width=\"25%\" height=\"100%\">\n            <BouncyAnimation attributeName=\"x\"  value={offset} delay={delay} />\n        </rect>\n        <text className=\"area-label\" id={textID} textAnchor=\"middle\" text-anchor=\"middle\" x={textOffset} y=\"50%\">{state.label}</text>;\n    </g>;*/\n    return <g>\n        <rect className={className} id={state.label}\n            onMouseEnter={() => state.Events.onZoneOverFocus(state.label)}\n            onMouseLeave={() => state.Events.onZoneOffFocus(state.label)}\n            onMouseDown={() => state.Events.onZoneMouseDown(state.label)}\n            onMouseUp={(event) => state.Events.onZoneMouseUp(state.username, state.label, state.maxWidth, event)}\n            x=\"0\" y=\"0\" width=\"25%\" height=\"100%\">\n            <BouncyAnimation attributeName=\"x\"  value={offset} delay={delay} />\n        </rect>\n        <text className=\"area-label\" id={textID} textAnchor=\"middle\" text-anchor=\"middle\" x={textOffset} y=\"50%\">{state.label}</text>;\n    </g>;\n};\n","import { IUserList } from \"../User/Model\";\n\nexport const TuckmanActions = {\n    SET_STAGESIZE : \"SET_STAGESIZE\",\n    SET_ZONEFOCUS : \"SET_ZONEFOCUS\",\n    SET_USERFOCUS : \"SET_USERFOCUS\",\n    SET_USERLIST  : \"SET_USERLIST\",\n    SELECT_USER   : \"SELECT_USER\",\n    CHOOSE_ZONE   : \"CHOOSE_ZONE\",\n    TOGGLE_CHOICES: \"TOGGLE_CHOICES\"\n};\n\nexport function setStageSize(width: number, height: number) {\n    return {type: TuckmanActions.SET_STAGESIZE, width: width, height: height};\n}\nexport function setZoneFocus(area: \"forming\" | \"storming\" | \"norming\" | \"performing\", focus: \"in-focus\" | \"active\" | \"not-in-focus\") {\n    return {type: TuckmanActions.SET_ZONEFOCUS, area: area, focus: focus};\n}\n\nexport function setUserFocus(user: string, focus: \"in-focus\" | \"active\" | \"not-in-focus\") {\n    return {type: TuckmanActions.SET_USERFOCUS, user: user, focus: focus};\n}\nexport function setUserList(userList: IUserList) {\n    return {type: TuckmanActions.SET_USERLIST, userList: userList};\n}\nexport function selectUser(user: string) {\n    return {type: TuckmanActions.SELECT_USER, user: user};\n}\nexport function chooseZone(user: string, area: \"forming\" | \"storming\" | \"norming\" | \"performing\", distance: number) {\n    return {type: TuckmanActions.CHOOSE_ZONE, user: user, area: area, distance: distance};\n}\nexport function toggleChoiceVisibility(visible: boolean) {\n    return {type: TuckmanActions.TOGGLE_CHOICES, visible: visible};\n}\n\n","import { connect } from \"react-redux\";\nimport { ITuckmanModel } from \"../Tuckman/Model\";\nimport { ITuckmanZone, ITuckmanZoneEventList } from \"./Model\";\nimport { TuckmanZone } from \"./Component\";\nimport { setZoneFocus, chooseZone } from \"../Tuckman/Actions\";\nimport { Point } from \"../Models/Point\";\n\nconst mapStateToProps = (state: ITuckmanModel, props: {label}): ITuckmanZone => {\n    const myState: ITuckmanZone = state.zones[props.label];\n    myState.maxWidth = state.Size.width;\n    myState.username = state.CurrentUser ? state.CurrentUser.Username : \"\";\n    return myState;\n};\n\nconst mapDispatchToProps = (dispatch) : ITuckmanZoneEventList => {\n  return {\n    Events: {\n      onZoneMouseDown: (zone: \"forming\" | \"storming\" | \"norming\" | \"performing\"): void => {\n        dispatch(setZoneFocus(zone, \"active\"));\n      },\n      onZoneMouseUp: (user: string, zone: \"forming\" | \"storming\" | \"norming\" | \"performing\", maxDistance: number, event: any): void => {\n        dispatch(setZoneFocus(zone, \"not-in-focus\"));\n        const distance = event.clientX;\n        const distanceAsPercentage = Point.distanceAsPercentage(distance, maxDistance);\n\n        dispatch(chooseZone(user, zone, distanceAsPercentage)); // user: string, area: \"Chaos\" | \"Stretch\" | \"Comfort\", distance: number\n      },\n      onZoneOverFocus: (zone: \"forming\" | \"storming\" | \"norming\" | \"performing\"): void => {\n        dispatch(setZoneFocus(zone, \"in-focus\"));\n      },\n      onZoneOffFocus: (zone: \"forming\" | \"storming\" | \"norming\" | \"performing\"): void => {\n        dispatch(setZoneFocus(zone, \"not-in-focus\"));\n      }\n    }\n  };\n};\nexport const TuckmanZoneConnector = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TuckmanZone);\n","import * as React from \"react\";\nimport {ITuckmanUserChoiceState} from \"../Tuckman/Model\";\nimport {Point} from \"../Models/Point\";\nimport {Polar} from \"../Models/Polar\";\nimport { ITuckmanUserChoice, IUserChoiceState } from \"./Model\";\n\nexport const TuckmanUserHistoryArea = (state: IUserChoiceState) => {\n    if (state && state.Choices.length) {\n        const  totalPoints = state.Choices.length;\n        const  maxWidth    = state.MaxWidth;\n        return <g id       = \"history\">\n            {state.Choices.map((userChoice: ITuckmanUserChoiceState, i) =>\n                <TuckmanUserHistory key={userChoice.User.Username} Index={i} MaxWidth={maxWidth} MaxHeight={state.MaxHeight} Distance={userChoice.Distance} TotalCount={totalPoints}   />\n            )}\n        </g>;\n\n    } else {\n        return <g id=\"history\"></g>;\n    }\n};\n\nexport const TuckmanUserHistory = (state: ITuckmanUserChoice) => {\n    const x = ((state.MaxWidth / 100) * state.Distance);\n    const y = (state.MaxHeight / state.TotalCount) * state.Index;\n\n    return <circle cx={x} cy={y} r=\"10\" className=\"point\"></circle>;\n};\n","import { connect } from \"react-redux\";\nimport { TuckmanUserHistoryArea} from \"./Component\";\nimport { ITuckmanModel } from \"../Tuckman/Model\";\nimport { IUserChoiceState } from \"./Model\";\n\nconst mapStateToProps = (state: ITuckmanModel): IUserChoiceState => {\n    return {\n      Choices  : state.UserChoices,\n      MaxWidth : state.Size.width,\n      MaxHeight: state.Size.height\n    };\n};\n\nexport const TuckmanUserHistoryConnector = connect(\n  mapStateToProps\n)(TuckmanUserHistoryArea);\n\n// UserListConnector\n","import * as React from \"react\";\nimport { Stage } from \"../Stage/Component\";\nimport { BouncyAnimation } from \"../Animation/Component\";\nimport { ITuckmanModel } from \"./Model\";\nimport { StageConnector } from \"../Stage/Connector\";\nimport { ReduxUserConnector } from \"../User/Connector\";\nimport { ITuckmanZone } from \"../TuckmanZone/Model\";\nimport { TuckmanZoneConnector } from \"../TuckmanZone/Connector\";\nimport { TuckmanUserHistoryConnector } from \"../TuckmanUserChoice/Connector\";\n\n\nexport const TuckmanStage = (state: ITuckmanModel) => {\n    const mod : ITuckmanModel = state;\n    const perf: ITuckmanZone  = mod.zones.performing;\n    return <g>\n                <g id=\"zones\">\n                    <TuckmanZoneConnector label=\"performing\"  />\n                    <TuckmanZoneConnector label=\"norming\"     />\n                    <TuckmanZoneConnector label=\"storming\"    />\n                    <TuckmanZoneConnector label=\"forming\"     />\n                </g>\n                <ReduxUserConnector />\n                <TuckmanUserHistoryConnector />\n        </g>;\n};\n","\n// import {ComfortActions} from \"./Actions\";\nimport { ITuckmanModel, ITuckmanZoneList } from \"./Model\";\nimport { fromJS, List, Map } from \"../3rdParty/immutable.min\";\nimport { DOMMeasurement } from \"../Models/IDomMeasurement\";\nimport { Size } from \"../Models/Size\";\nimport { Point } from \"../Models/Point\";\nimport { TuckmanActions } from \"./Actions\";\nimport { IUser, IUserList } from \"../User/Model\";\n\n\nconst initialSize: Size = new Size(800, 800);\nconst initialState: ITuckmanModel = {\n    UserList : {\n        ShowUsers: true,\n        Users: [\n            {Username: \"Adam Hall\", Focus: \"not-in-focus\", Y: 0 },\n            {Username: \"Caroline Hall\", Focus: \"not-in-focus\", Y: 0 }\n        ]\n    },\n    Size: initialSize,\n    zones: {\n        forming   : {index: 0, label: \"forming\",    focus: \"not-in-focus\", Events: undefined},\n        storming  : {index: 1, label: \"storming\",   focus: \"not-in-focus\", Events: undefined},\n        norming   : {index: 2, label: \"norming\",    focus: \"not-in-focus\", Events: undefined},\n        performing: {index: 3, label: \"performing\", focus: \"not-in-focus\", Events: undefined}\n    },\n    UserChoices: []\n    /*CenterPoint: new Point(initialSize.width / 2, initialSize.height / 2),\n\n    Zones : {\n        Comfort: {Name: \"Comfort\", Focus: \"not-in-focus\", Range: {Start: 0, End: 100}, Size: {Width: new DOMMeasurement(\"50%\"), Height: new DOMMeasurement(\"50%\")}},\n        Stretch: {Name: \"Stretch\", Focus: \"not-in-focus\", Range: {Start: 100, End: 200}, Size: {Width: new DOMMeasurement(\"50%\"), Height: new DOMMeasurement(\"50%\")}},\n        Chaos: {Name: \"Chaos\", Focus: \"not-in-focus\", Range: {Start: 200, End: 300}, Size: {Width: new DOMMeasurement(\"100%\"), Height: new DOMMeasurement(\"100%\")}}\n    },\n    ShowUserChoices: false,\n    */\n\n};\n\nexport function tuckmanReactApp(state: ITuckmanModel = initialState, action): ITuckmanModel {\n    switch (action.type) {\n       case TuckmanActions.SET_STAGESIZE:\n            return TuckmanZoneAction.setStageSize(state, (<any>action).width, (<any>action).height);\n        case TuckmanActions.SET_USERFOCUS:\n            return TuckmanZoneAction.setUserFocus(state, (<any>action).user, (<any>action).focus);\n        case TuckmanActions.SET_ZONEFOCUS:\n            return TuckmanZoneAction.setZoneFocus(state, (<any>action).area, (<any>action).focus);\n         case TuckmanActions.SELECT_USER:\n            return TuckmanZoneAction.selectUser(state, (<any>action).user);\n        case TuckmanActions.CHOOSE_ZONE:\n            return TuckmanZoneAction.chooseZone(state, (<any>action).user, (<any>action).area, (<any>action).distance);\n        case TuckmanActions.TOGGLE_CHOICES:\n            return TuckmanZoneAction.toggleChoiceVisibility(state, (<any>action).visible);\n        default:\n            return state;\n    }\n}\nclass TuckmanZoneAction {\n\n    static setStageSize(state: ITuckmanModel, width: number, height: number): ITuckmanModel {\n        const newCenter = new Point(width / 2, height / 2);\n        return fromJS(state)\n            .set(\"Size\", new Size(width, height))\n            .set(\"CenterPoint\", newCenter)\n            .toJS();\n    }\n\n    static setZoneFocus(state: ITuckmanModel, area: \"forming\" | \"storming\" | \"norming\" | \"performing\", focus: \"in-focus\" | \"active\" | \"not-in-focus\"): ITuckmanModel {\n        return fromJS(state)\n            .setIn([\"zones\", \"forming\", \"focus\"], area === \"forming\" ? focus : \"not-in-focus\")\n            .setIn([\"zones\", \"storming\", \"focus\"], area === \"storming\"  ? focus : \"not-in-focus\")\n            .setIn([\"zones\", \"norming\", \"focus\"], area === \"norming\"  ? focus : \"not-in-focus\")\n            .setIn([\"zones\", \"performing\", \"focus\"], area === \"performing\"  ? focus : \"not-in-focus\").toJS();\n    }\n\n    static setUserFocus(state: ITuckmanModel, user: string, focus: \"in-focus\" | \"active\" | \"not-in-focus\"): ITuckmanModel {\n        const originalList = List(state.UserList.Users);\n        const newUserList = originalList.update(\n            originalList.findIndex(item => item.Username === user),\n            (item) => fromJS(item).set(\"Focus\", focus)).toJS();\n        return fromJS(state)\n            .setIn([\"UserList\", \"Users\"], newUserList).toJS();\n    }\n\n    static setUsers(state: ITuckmanModel, userList: IUserList): ITuckmanModel {\n        return fromJS(state)\n            .setIn(\"UserList\", userList).toJS();\n    }\n\n    static selectUser(state: ITuckmanModel, user: String): ITuckmanModel {\n        const originalList = List(state.UserList.Users);\n        const item: IUser = originalList.find(item => item.Username === user);\n        // Sets currentUser, and therefor hides the user choice menu\n        const data = fromJS(state)\n            .set(\"CurrentUser\", item)\n            .set(\"ShowUserChoices\", false)\n            .setIn([\"UserList\", \"ShowUsers\"], false);\n\n        return data.toJS();\n    }\n\n    static chooseZone(\n        state: ITuckmanModel, user: string, area: \"forming\" | \"storming\" | \"norming\" | \"performing\",\n        distance: number): ITuckmanModel {\n\n        // Add the user choice\n        const newUserChoices = List(state.UserChoices).push({\n            User: {Username: user},\n            Zone: area,\n            Distance: distance\n        }).toJS();\n        // Remove the user from the choice list\n        const newUserList = List(state.UserList.Users).filter((item) => item.Username !== user).toArray();\n        // Show the user list\n        const showUserChoice = !!(newUserList.length);\n        // Return\n        return fromJS(state)\n            .delete(\"CurrentUser\")\n            .set(\"ShowUserChoices\", showUserChoice)\n            .set(\"UserChoices\", newUserChoices)\n            .setIn([\"UserList\", \"Users\"], newUserList)\n            .setIn([\"UserList\", \"ShowUsers\"], showUserChoice).toJS();\n    }\n\n    static toggleChoiceVisibility(state: ITuckmanModel, visible: boolean): ITuckmanModel {\n        // Set \"showUserChoices\" to true\n        return Map(state)\n            .set(\"ShowUserChoices\", visible).toJS();\n    }\n}\n","import { connect } from \"react-redux\";\nimport { TuckmanStage } from \"./Component\";\nimport { ITuckmanModel } from \"./Model\";\n\nconst mapStateToProps = (state: ITuckmanModel): ITuckmanModel => {\n    return state;\n};\n\nexport const TuckmanConnector = connect(mapStateToProps)(TuckmanStage);\n","import * as React from \"react\";\nimport { createStore } from \"../../3rdParty/redux.min\";\nimport { Provider } from \"../../3rdParty/react-redux.min\";\nimport { TuckmanStage } from \"../Tuckman/Component\";\nimport { tuckmanReactApp } from \"../Tuckman/Reducer\";\nimport { Size } from \"../Models/Size\";\nimport * as Action from \"../Tuckman/Actions\";\nimport { TuckmanConnector } from \"../Tuckman/Connector\";\nimport { StageConnector } from \"../Stage/Connector\";\nimport { Stage } from \"../Stage/Component\";\nconst renderizer = require(\"react-test-renderer\");\n\ntest(\"Should not mutate in any way\", () => {\n    const myStore = createStore(tuckmanReactApp);\n    const originalState = myStore.getState();\n    const inputState = JSON.stringify(originalState);\n    const checkAfterAction = (action) => {\n        myStore.dispatch(action);\n        expect(inputState).toEqual(JSON.stringify(originalState));\n    };\n    checkAfterAction(Action.setUserFocus(\"Adam Hall\", \"in-focus\"));\n    checkAfterAction(Action.selectUser(\"Adam Hall\"));\n    checkAfterAction(Action.setStageSize(800, 600));\n    checkAfterAction(Action.setZoneFocus(\"forming\", \"in-focus\"));\n    checkAfterAction(Action.setZoneFocus(\"storming\", \"active\"));\n    checkAfterAction(Action.setZoneFocus(\"norming\", \"in-focus\"));\n    checkAfterAction(Action.setZoneFocus(\"performing\", \"in-focus\"));\n    checkAfterAction(Action.toggleChoiceVisibility(true));\n    checkAfterAction(Action.toggleChoiceVisibility(false));\n    checkAfterAction(Action.chooseZone(\"Adam Hall\", \"performing\", 85));\n});\n\ntest(\"Focusable zones\", () => {\n    const myStore = createStore(tuckmanReactApp);\n    myStore.dispatch(Action.setStageSize(800, 600));\n\n    const component = renderizer.create(\n            <Provider store={myStore}>\n                <StageConnector>\n                    <TuckmanConnector />\n                </StageConnector>\n            </Provider>\n    );\n\n    myStore.dispatch(Action.setZoneFocus(\"forming\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n    myStore.dispatch(Action.setZoneFocus(\"forming\", \"not-in-focus\"));\n    myStore.dispatch(Action.setZoneFocus(\"storming\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n    myStore.dispatch(Action.setZoneFocus(\"storming\", \"not-in-focus\"));\n    myStore.dispatch(Action.setZoneFocus(\"norming\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n    myStore.dispatch(Action.setZoneFocus(\"norming\", \"not-in-focus\"));\n    myStore.dispatch(Action.setZoneFocus(\"performing\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n\n});\n\ntest(\"Should show the component\", () => {\n    // Arrange\n    const myStore = createStore(tuckmanReactApp);\n    myStore.dispatch(Action.setStageSize(800, 600));\n\n    const component = renderizer.create(\n            <Provider store={myStore}>\n                <StageConnector>\n                    <TuckmanConnector />\n                </StageConnector>\n            </Provider>\n    );\n\n    expect(component.toJSON()).toMatchSnapshot();\n    myStore.dispatch(Action.setZoneFocus(\"forming\", \"in-focus\"));\n    expect(component.toJSON()).toMatchSnapshot();\n\n});\n/*\nit(\"Should show the stretch area\", () => {\n    // Arrange\n    const component = renderizer.create(\n        <Stage><ChartArea width=\"200\" offset=\"100\" label=\"example\"></ChartArea></Stage>\n    );\n    expect(component.toJSON()).toMatchSnapshot();\n\n});\n\n\n*/\n","import { Size } from \"../Models/Size\";\n\nexport function getWidthHeight(): Size {\n    const w = window,\n          d = document,\n          e = d.documentElement,\n          g = d.getElementsByTagName(\"body\")[0],\n          x = w.innerWidth || e.clientWidth || g.clientWidth,\n          y = w.innerHeight || e.clientHeight || g.clientHeight;\n    return new Size(x, y);\n}\n","import * as React from \"react\";\nimport * as Redux from \"redux\";\nimport { ComfortApp } from \"./ComponentApp\";\nimport {comfortReactApp} from \"./Reducer\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { setStageSize } from \"./Actions\";\nimport { Size } from \"../Models/Size\";\nimport { getWidthHeight } from \"../Shared/WindowHelper\";\nimport { StageConnector } from \"../Stage/Connector\";\n\nexport const myStore = Redux.createStore(comfortReactApp);\n\n\nconst unsubscribe = myStore.subscribe(() =>\n  console.log(myStore.getState())\n);\n\nrender(\n  <Provider store={myStore}>\n    <StageConnector>\n        <ComfortApp />\n    </StageConnector>\n  </Provider>,\n  document.getElementById(\"comfort\")\n);\n\nexport function resizeImage() {\n    const size: Size = getWidthHeight();\n    if (size.width > size.height) {\n      myStore.dispatch(setStageSize(size.height, size.height));\n    } else {\n      myStore.dispatch(setStageSize(size.width, size.width));\n    }\n}\n\nwindow.addEventListener(\"resize\", resizeImage, false);\n\n// Stop listening to state updates\n// unsubscribe(); ;\n","import {Point} from \"../Models/Point\";\n\nexport class SVGEvents {\n\n    public static getDistance(x: number, y: number, target: SVGElement) {\n        return Point.distance(new Point(x, y), SVGEvents.getCenter(target));\n    }\n    public static getCenter(target: SVGElement) {\n        const rect = target.getBoundingClientRect();\n        return new Point(\n            rect.left + (rect.width / 2),\n            rect.top + (rect.height / 2)\n        );\n    }\n}","\nimport { SVGEvents } from \"./SVGEvents\";\n\nexport class Events {\n\n    public static calculateDistance(distance) {\n        if (distance < 34) {\n            return \"comfort\";\n        } else if (distance < 67) {\n            return \"stretch\";\n        } else {\n            return \"chaos\";\n        }\n    }\n\n    public static mouseEnter() {\n        (<any>this).setState({focus: \"in-focus\"});\n    }\n\n    public static mouseDown() {\n        (<any>this).setState({focus: \"active\"});\n    }\n\n    public static mouseUp(a) {\n        const target: SVGElement = a.target;\n        const center   = SVGEvents.getCenter(target);\n        const distance = SVGEvents.getDistance(a.clientX, a.clientY, target);\n        (<any>this).setState({focus: \"not-in-focus\"});\n    }\n\n    public static mouseLeave() {\n        (<any>this).setState({focus: \"not-in-focus\"});\n    }\n\n}\n\n","/// <reference path=\"../typings/d3/d3.d.ts\" />\n/// <reference path=\"../typings/es6-promise/es6-promise.d.ts\"/>\n/// <reference path=\"../typings/requirejs/require.d.ts\"/>\n/// <reference path=\"../typings/main/definitions/immutable/index.d.ts\" />\n/// <reference path=\"../typings/redux/redux.d.ts\" />\n\n\nrequirejs.config( {\n    baseUrl : \"/\",\n    paths: {\n        \"react\"              : \"../3rdParty/react.min\",\n        \"react-dom\"          : \"../3rdParty/react-dom.min\",\n        \"immutable\"          : \"../3rdParty/immutable.min\",\n        \"immutability-helper\": \"../3rdParty/index\",\n        \"redux\"              : \"../3rdParty/redux.min\",\n        \"react-redux\"        : \"../3rdParty/react-redux.min\",\n    }\n});\n\nrequire([\"React/Comfort/Store\"], (u) => {\n    u.resizeImage();\n});\nrequire([\"React/Tuckman/Store\"], (u) => {\n    u.resizeImage();\n});\n\n(function setupFormViewability() {\n\n    const showForm = (urlParam) => {\n        window.history.pushState({}, urlParam, \"/react/react.html?model=\" + urlParam);\n        switch (urlParam) {\n            case ModelEnum.All:\n                document.getElementById(\"tuckman\").className = \"hidden\";\n                document.getElementById(\"comfort\").className = \"hidden\";\n                break;\n            case ModelEnum.ComfortZone:\n                document.getElementById(\"tuckman\").className = \"\";\n                document.getElementById(\"comfort\").className = \"hidden\";\n                break;\n            case ModelEnum.Tuckman:\n                document.getElementById(\"tuckman\").className = \"hidden\";\n                document.getElementById(\"comfort\").className = \"\";\n                break;\n        }\n    };\n\n    const ModelEnum = {\n        All: \"\",\n        Tuckman: \"Tuckman\",\n        ComfortZone: \"ComfortZone\"\n    };\n\n    const getModelFromQuerystring = () => {\n        const urlParams = document.URL.split(\"?model=\");\n        if (urlParams && urlParams.length === 1) {\n            return urlParams[1];\n        }\n        return ModelEnum.All;\n    };\n\n    const urlParam = getModelFromQuerystring();\n    showForm(urlParam);\n    document.getElementById(\"go-tuckman\").onclick = function () {\n        showForm(ModelEnum.Tuckman);\n    };\n    document.getElementById(\"go-comfort\").onclick = function () {\n        showForm(ModelEnum.ComfortZone);\n    };\n})();\n","export interface IIndexableObject {\n    id: string;\n}\n\nexport interface ICache<T> {\n    update(item: T): Thenable<T[]>;\n    add(item: T): Thenable<T[]>;\n    get(): Thenable<T[]>;\n    getById(id: string): Thenable<T>;\n    set(items: T[]): Thenable<T[]>;\n}\n\nexport class GenericCache implements ICache<IIndexableObject> {\n    store: IIndexableObject[];\n\n    constructor() {\n        this.store = [];\n    }\n\n    update(item: IIndexableObject): Thenable<IIndexableObject[]> {\n        for (let i = 0; i < this.store.length; i++) {\n            if (item.id === this.store[i].id) {\n                this.store[i] = item;\n            }\n        }\n        return Promise.resolve(this.store);\n    }\n\n    add(item: IIndexableObject): Thenable<IIndexableObject[]> {\n        this.store.push(item);\n        return Promise.resolve(this.store);\n    }\n\n    get(): Thenable<IIndexableObject[]> {\n        return Promise.resolve(this.store);\n    }\n\n    getById(id: string): Thenable<IIndexableObject> {\n        const store = this.store.filter((x: IIndexableObject) => x.id === id);\n        if (store.length) {\n            return Promise.resolve(store[0]);\n        }\n        throw Error(\"Cannot find item by ID: \" + id);\n    }\n\n    set(items: IIndexableObject[]): Thenable<IIndexableObject[]> {\n        this.store = items;\n        return Promise.resolve(this.store);\n    }\n}","import {IIndexableObject} from \"./Cache\";\nexport class User implements IIndexableObject {\n    name: string;\n    id: string;\n    voted: boolean;\n    constructor(name: string, id: string) {\n        this.name = name;\n        this.id = id;\n        this.voted = false;\n    }\n}","import {User} from \"./User\";\n\nexport class UserConstructor {\n    static notEmpty(input) {\n        return (input !== \"\");\n    }\n    static createUsersByNames(names: Array<string>): User[] {\n        const filtered = names.filter(UserConstructor.notEmpty);\n        const users = filtered.map((v, i) => {\n            return this.createUser(v, i);\n        });\n        return users;\n    }\n    static createUser(name: string, index: number) {\n        return new User(name, \"user\" + index);\n    }\n}","import {User} from \"./User\";\nimport {GenericCache} from \"./Cache\";\nimport {IUserRepo} from \"./IUsers\";\nimport {UserConstructor} from \"./UserConstructor\";\n\nexport class InMemoryUsers implements IUserRepo {\n    cache: GenericCache;\n\n    constructor() {\n        this.cache = new GenericCache();\n        const users = UserConstructor.createUsersByNames([\n            \"Adam Hall\",\n            \"Billie Davey\",\n            \"Laura Rowe\",\n            \"Simon Dawson\"\n        ]);\n        this.setUsers(users);\n    }\n\n\n\n    addUser(user: User): Thenable<User[]> {\n        return this.cache.add(user);\n    }\n\n    addUserByName(name: string): Thenable<User[]> {\n        return this.cache.add(UserConstructor.createUser(name, 9));\n    }\n\n    updateUser(user: User): Thenable<User[]> {\n        return this.cache.update(user);\n    }\n\n\n    getUsers(): Thenable<Array<User>>  {\n        return this.cache.get();\n    }\n\n    getUser(id: string): Thenable<User> {\n        return this.cache.getById(id);\n    }\n\n    saveUser(user: User): Thenable<User[]> {\n        return this.cache.update(user);\n    }\n\n    setUsers(users: User[]): Thenable<User[]> {\n        return this.cache.set(users);\n    }\n}","import {IAllRepostiory} from \"./IUsers\";\n\nexport class BrowserRepo<T> implements IAllRepostiory<T> {\n    key: string;\n    br: Window;\n    constructor (key: string, window: Window) {\n        this.br = window;\n        this.key = key;\n    }\n    get(): Thenable<T> {\n        const text: string = this.br.localStorage.getItem(this.key);\n        const json: T = JSON.parse(text);\n        return Promise.resolve(json);\n    }\n    save(thing: T): Thenable<T> {\n        const text = JSON.stringify(thing);\n        this.br.localStorage.setItem(this.key, text);\n        return Promise.resolve(thing);\n    }\n\n}","import {User} from \"./User\";\nimport {BrowserRepo} from \"./BrowserRepo\";\nimport {IAllRepostiory, IAllUserRepostiory} from \"./IUsers\";\n\n\nexport class BrowserUsers implements IAllUserRepostiory {\n    repo: IAllRepostiory<User[]>;\n    constructor(window: Window) {\n        this.repo = new BrowserRepo<User[]>(\"users\", window);\n    }\n\n    getUsers(): Thenable<User[]> {\n        return this.repo.get();\n    }\n\n    saveUsers(users: User[]):  Thenable<User[]> {\n        return this.repo.save(users);\n    }\n}","\nimport {User} from \"./User\";\nimport {InMemoryUsers} from \"./Users\";\nimport {BrowserUsers} from \"./BrowserUsers\";\nimport {IAllUserRepostiory, IUserRepo} from \"./IUsers\";\n\nexport class InMemoryBrowserUsers implements IUserRepo  {\n    cache: InMemoryUsers;\n    repo: IAllUserRepostiory;\n    constructor(window: Window) {\n        this.cache = new InMemoryUsers();\n        this.repo = new BrowserUsers(window);\n    }\n    updateUser(user: User): Thenable<User[]> {\n        const prom = this.cache.updateUser(user);\n        prom.then(users => {\n            this.repo.saveUsers(users);\n        });\n        return prom;\n    }\n    addUser(user: User): Thenable<User[]> {\n        const prom = this.cache.addUser(user);\n        prom.then(users => {\n            this.repo.saveUsers(users);\n        });\n        return prom;\n    }\n    getUsers(): Thenable<User[]> {\n        const prom = this.repo.getUsers();\n        prom.then(users => {\n            this.cache.setUsers(users);\n        });\n        return prom;\n    }\n    getUser(id: string): Thenable<User> {\n        const result = this.cache.getUser(id);\n        return Promise.resolve(result);\n    }\n    setUsers(users: User[]): Thenable<User[]> {\n\n        const promCache = this.cache.setUsers(users);\n        const promRepo = this.repo.saveUsers(users);\n        return promCache;\n    }\n}","import * as React from \"react\";\nimport * as Redux from \"redux\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { setStageSize } from \"./Actions\";\nimport { Size } from \"../Models/Size\";\nimport { getWidthHeight } from \"../Shared/WindowHelper\";\nimport { TuckmanConnector } from \"./Connector\";\nimport { StageConnector } from \"../Stage/Connector\";\nimport { tuckmanReactApp } from \"./Reducer\";\nimport { InMemoryBrowserUsers } from \"../../Shared/InMemoryBrowserUsers\"\nexport const myStore = Redux.createStore(tuckmanReactApp);\nconst users = new InMemoryBrowserUsers(window);\n\n\nconst unsubscribe = myStore.subscribe(() =>\n  console.log(myStore.getState())\n);\n\nrender(\n  <Provider store={myStore}>\n    <StageConnector>\n        <TuckmanConnector />\n    </StageConnector>\n  </Provider>,\n  document.getElementById(\"tuckman\")\n);\n\nexport function resizeImage() {\n    const size: Size = getWidthHeight();\n    if (size.width > size.height) {\n      myStore.dispatch(setStageSize(size.height, size.height));\n    } else {\n      myStore.dispatch(setStageSize(size.width, size.width));\n    }\n}\n\nwindow.addEventListener(\"resize\", resizeImage, false);\n\n// Stop listening to state updates\n// unsubscribe(); ;\n"]}